#!/bin/sh
set -e

status() echo "$1  |" $(date +"%H:%M")

xprop -spy -root _NET_ACTIVE_WINDOW \
    | while read wid; do status "$(xdotool getwindowname ${wid##*# })"; done &

while :; do
    status "$(xdotool getactivewindow getwindowname)"
    sleep 1m
done
