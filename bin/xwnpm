#!/bin/sh

# http://pastebin.com/kQKU8W0f

eval $(xdotool getdisplaygeometry --shell)
dispw="$WIDTH"
disph="$HEIGHT"

eval $(xdotool getactivewindow getwindowgeometry --shell)
win="$WINDOW"
winw="$WIDTH"
winh="$HEIGHT"

dispw=$((dispw-x))
disph=$((disph-y))

eval $(xdotool search --class i3bar getwindowgeometry --shell)
i3barh=$HEIGHT                  # i3bar height
i3dech=26                       # i3wm title height (FIXME dynamic)

eval $(xdotool search --class tint2 getwindowgeometry --shell)
tint2y=$Y

ty=$((i3barh+i3dech))
by=$((tint2y-winh-4))
cx=$((dispw/2-winw/2))
cy=$((disph/2-winh/2-i3dech-4))

case "$1" in
    "7") x=0;               y=$ty;;
    "8") x=$cx;             y=$ty;;
    "9") x=$((dispw-winw)); y=$ty;;

    "4")                    y=$cy;;
    "5") x=$cx;             y=$cy;;
    "6") x=$((dispw-winw)); y=$cy;;

    "1")                    y=$by;;
    "2") x=$cx;             y=$by;;
    "3") x=$((dispw-winw)); y=$by;;
      *) x=-10;             y=-10;;
esac

xdotool windowmove $win $x $y
