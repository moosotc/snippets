#!/bin/sh

# http://pastebin.com/kQKU8W0f

eval $(xdotool getdisplaygeometry --shell)
dispw="$WIDTH"
disph="$HEIGHT"

eval $(xdotool getactivewindow getwindowgeometry --shell)
win="$WINDOW"
winw="$WIDTH"
winh="$HEIGHT"

dispw=$((dispw-x))
disph=$((disph-y))

eval $(xdotool search --class i3bar getwindowgeometry --shell)
i3barh=$HEIGHT                  # i3bar height
i3dech=26                       # i3wm title height

eval $(xdotool search --class tint2 getwindowgeometry --shell)
tint2y=$Y

x=0
y=$((i3barh+i3dech))

case "$1" in
    "7") ;;
    "8") x=$((dispw/2-winw/2));;
    "9") x=$((dispw-winw));;

    "4")                        y=$((disph/2-(winh+i3barh)/2-4));;
    "5") x=$((dispw/2-winw/2)); y=$((disph/2-(winh+i3barh)/2-4));;
    "6") x=$((dispw-winw));     y=$((disph/2-(winh+i3barh)/2-4));;

    "1")                        y=$((tint2y-winh-4));;
    "2") x=$((dispw/2-winw/2)); y=$((tint2y-winh-4));;
    "3") x=$((dispw-winw));     y=$((tint2y-winh-4));;
esac
xdotool windowmove $win $x $y
